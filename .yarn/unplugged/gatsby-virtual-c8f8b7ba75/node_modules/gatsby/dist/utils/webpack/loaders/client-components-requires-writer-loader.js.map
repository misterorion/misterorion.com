{"version":3,"file":"client-components-requires-writer-loader.js","names":["Template","require","module","exports","virtual","modules","getOptions","requests","split","code","filter","Boolean","map","request","chunkName","toPath","JSON","stringify","join"],"sources":["../../../../src/utils/webpack/loaders/client-components-requires-writer-loader.ts"],"sourcesContent":["import { LoaderContext } from \"webpack\"\n\nconst Template = require(`webpack/lib/Template`)\n\n/**\n * Loader that creates virtual file with imports to client components\n */\nmodule.exports = function virtual(\n  this: LoaderContext<{\n    modules: string\n  }>\n): string {\n  const { modules } = this.getOptions()\n\n  const requests = modules.split(`,`)\n\n  const code = requests\n    .filter(Boolean)\n    // Filter out css files on the server\n    .map(request => {\n      const chunkName = Template.toPath(request)\n\n      return `import(/* webpackChunkName: \"${chunkName}\" */ ${JSON.stringify(\n        request\n      )})`\n    })\n    .join(`;\\n`)\n\n  return code\n}\n"],"mappings":";;;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAE,sBAAF,CAAxB;AAEA;AACA;AACA;;;AACAC,MAAM,CAACC,OAAP,GAAiB,SAASC,OAAT,GAIP;EACR,MAAM;IAAEC;EAAF,IAAc,KAAKC,UAAL,EAApB;EAEA,MAAMC,QAAQ,GAAGF,OAAO,CAACG,KAAR,CAAe,GAAf,CAAjB;EAEA,MAAMC,IAAI,GAAGF,QAAQ,CAClBG,MADU,CACHC,OADG,EAEX;EAFW,CAGVC,GAHU,CAGNC,OAAO,IAAI;IACd,MAAMC,SAAS,GAAGd,QAAQ,CAACe,MAAT,CAAgBF,OAAhB,CAAlB;IAEA,OAAQ,gCAA+BC,SAAU,QAAOE,IAAI,CAACC,SAAL,CACtDJ,OADsD,CAEtD,GAFF;EAGD,CATU,EAUVK,IAVU,CAUJ,KAVI,CAAb;EAYA,OAAOT,IAAP;AACD,CAtBD"}