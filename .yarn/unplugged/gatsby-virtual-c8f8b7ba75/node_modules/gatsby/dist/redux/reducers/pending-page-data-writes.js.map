{"version":3,"file":"pending-page-data-writes.js","names":["pendingPageDataWritesReducer","state","pagePaths","Set","sliceNames","action","type","componentModified","slicesModified","add","payload","path","name","page","pages","delete"],"sources":["../../../src/redux/reducers/pending-page-data-writes.ts"],"sourcesContent":["import { ActionsUnion, IGatsbyState } from \"../types\"\n\nexport const pendingPageDataWritesReducer = (\n  state: IGatsbyState[\"pendingPageDataWrites\"] = {\n    pagePaths: new Set(),\n    sliceNames: new Set(),\n  },\n  action: ActionsUnion\n): IGatsbyState[\"pendingPageDataWrites\"] => {\n  switch (action.type) {\n    case `DELETE_CACHE`: {\n      return {\n        pagePaths: new Set(),\n        sliceNames: new Set(),\n      }\n    }\n    case `CREATE_PAGE`:\n      if (action.componentModified || action.slicesModified) {\n        state.pagePaths.add(action.payload.path)\n      }\n\n      return state\n\n    case `CREATE_SLICE`: {\n      if (action.componentModified) {\n        state.sliceNames.add(action.payload.name)\n      }\n\n      return state\n    }\n\n    case `ADD_PENDING_PAGE_DATA_WRITE`:\n      state.pagePaths.add(action.payload.path)\n      return state\n\n    case `ADD_PENDING_SLICE_DATA_WRITE`: {\n      state.sliceNames.add(action.payload.name)\n      return state\n    }\n\n    case `ADD_PENDING_TEMPLATE_DATA_WRITE`: {\n      for (const page of action.payload.pages) {\n        state.pagePaths.add(page)\n      }\n\n      return state\n    }\n\n    case `ADD_PENDING_SLICE_TEMPLATE_DATA_WRITE`: {\n      for (const name of action.payload.sliceNames) {\n        state.sliceNames.add(name)\n      }\n\n      return state\n    }\n\n    case `CLEAR_PENDING_PAGE_DATA_WRITE`: {\n      state.pagePaths.delete(action.payload.page)\n      return state\n    }\n\n    case `CLEAR_PENDING_SLICE_DATA_WRITE`: {\n      state.sliceNames.delete(action.payload.name)\n      return state\n    }\n\n    default:\n      return state\n  }\n}\n"],"mappings":";;;;;AAEO,MAAMA,4BAA4B,GAAG,CAC1CC,KAA4C,GAAG;EAC7CC,SAAS,EAAE,IAAIC,GAAJ,EADkC;EAE7CC,UAAU,EAAE,IAAID,GAAJ;AAFiC,CADL,EAK1CE,MAL0C,KAMA;EAC1C,QAAQA,MAAM,CAACC,IAAf;IACE,KAAM,cAAN;MAAqB;QACnB,OAAO;UACLJ,SAAS,EAAE,IAAIC,GAAJ,EADN;UAELC,UAAU,EAAE,IAAID,GAAJ;QAFP,CAAP;MAID;;IACD,KAAM,aAAN;MACE,IAAIE,MAAM,CAACE,iBAAP,IAA4BF,MAAM,CAACG,cAAvC,EAAuD;QACrDP,KAAK,CAACC,SAAN,CAAgBO,GAAhB,CAAoBJ,MAAM,CAACK,OAAP,CAAeC,IAAnC;MACD;;MAED,OAAOV,KAAP;;IAEF,KAAM,cAAN;MAAqB;QACnB,IAAII,MAAM,CAACE,iBAAX,EAA8B;UAC5BN,KAAK,CAACG,UAAN,CAAiBK,GAAjB,CAAqBJ,MAAM,CAACK,OAAP,CAAeE,IAApC;QACD;;QAED,OAAOX,KAAP;MACD;;IAED,KAAM,6BAAN;MACEA,KAAK,CAACC,SAAN,CAAgBO,GAAhB,CAAoBJ,MAAM,CAACK,OAAP,CAAeC,IAAnC;MACA,OAAOV,KAAP;;IAEF,KAAM,8BAAN;MAAqC;QACnCA,KAAK,CAACG,UAAN,CAAiBK,GAAjB,CAAqBJ,MAAM,CAACK,OAAP,CAAeE,IAApC;QACA,OAAOX,KAAP;MACD;;IAED,KAAM,iCAAN;MAAwC;QACtC,KAAK,MAAMY,IAAX,IAAmBR,MAAM,CAACK,OAAP,CAAeI,KAAlC,EAAyC;UACvCb,KAAK,CAACC,SAAN,CAAgBO,GAAhB,CAAoBI,IAApB;QACD;;QAED,OAAOZ,KAAP;MACD;;IAED,KAAM,uCAAN;MAA8C;QAC5C,KAAK,MAAMW,IAAX,IAAmBP,MAAM,CAACK,OAAP,CAAeN,UAAlC,EAA8C;UAC5CH,KAAK,CAACG,UAAN,CAAiBK,GAAjB,CAAqBG,IAArB;QACD;;QAED,OAAOX,KAAP;MACD;;IAED,KAAM,+BAAN;MAAsC;QACpCA,KAAK,CAACC,SAAN,CAAgBa,MAAhB,CAAuBV,MAAM,CAACK,OAAP,CAAeG,IAAtC;QACA,OAAOZ,KAAP;MACD;;IAED,KAAM,gCAAN;MAAuC;QACrCA,KAAK,CAACG,UAAN,CAAiBW,MAAjB,CAAwBV,MAAM,CAACK,OAAP,CAAeE,IAAvC;QACA,OAAOX,KAAP;MACD;;IAED;MACE,OAAOA,KAAP;EA1DJ;AA4DD,CAnEM"}